apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  namespace: fullstack-monolith-prod
data:
  NODE_ENV: 'production'
  LOG_LEVEL: 'info'
  PORT: '3000'
  WEB_PORT: '3001'

  # CORS Configuration
  CORS_ORIGIN: 'https://app.fullstack-monolith.com'
  CORS_CREDENTIALS: 'true'

  # Rate Limiting
  RATE_LIMIT_WINDOW_MS: '900000' # 15 minutes
  RATE_LIMIT_MAX_REQUESTS: '100'

  # Session Configuration
  SESSION_COOKIE_SECURE: 'true'
  SESSION_COOKIE_SAME_SITE: 'strict'
  SESSION_COOKIE_MAX_AGE: '86400000' # 24 hours

  # Security Headers
  HELMET_ENABLED: 'true'
  HSTS_MAX_AGE: '31536000' # 1 year

  # Monitoring
  METRICS_ENABLED: 'true'
  HEALTH_CHECK_ENABLED: 'true'

  # Feature Flags
  FEATURE_MFA_ENABLED: 'true'
  FEATURE_OAUTH_ENABLED: 'true'
  FEATURE_WEBAUTHN_ENABLED: 'true'

  # Cache Configuration
  CACHE_TTL: '3600' # 1 hour
  CACHE_MAX_SIZE: '1000'

  # File Upload
  MAX_FILE_SIZE: '10485760' # 10MB
  ALLOWED_FILE_TYPES: 'image/jpeg,image/png,image/gif,application/pdf'
